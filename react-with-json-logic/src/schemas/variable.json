{
  "$ref": "#/definitions/Variable",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "Variable": {
      "additionalProperties": false,
      "description": "Represents a variable which is computed from the given answers or other variables.",
      "properties": {
        "id": {
          "description": "Unique id for referring this variable in logic expressions.",
          "type": "string"
        },
        "value": {
          "$ref": "#/definitions/LogicExpression",
          "description": "Logic expression used to compute this variable."
        }
      },
      "required": ["id", "value"],
      "type": "object"
    },
    "LogicAnd": {
      "additionalProperties": false,
      "properties": {
        "and": {
          "items": {
            "$ref": "#/definitions/LogicExpression"
          },
          "type": "array"
        }
      },
      "required": ["and"],
      "title": "LogicAnd",
      "type": "object"
    },
    "LogicConstant": {
      "type": ["number", "string", "boolean"]
    },
    "LogicEquals": {
      "additionalProperties": false,
      "properties": {
        "==": {
          "items": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        }
      },
      "required": ["=="],
      "title": "LogicEquals",
      "type": "object"
    },
    "LogicExpression": {
      "anyOf": [
        {
          "$ref": "#/definitions/LogicOperator"
        },
        {
          "$ref": "#/definitions/LogicVariable"
        },
        {
          "$ref": "#/definitions/LogicConstant"
        }
      ]
    },
    "LogicGreater": {
      "additionalProperties": false,
      "properties": {
        ">": {
          "items": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        }
      },
      "required": [">"],
      "title": "LogicGreater",
      "type": "object"
    },
    "LogicGreaterEqual": {
      "additionalProperties": false,
      "properties": {
        ">=": {
          "items": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        }
      },
      "required": [">="],
      "title": "LogicGreaterEqual",
      "type": "object"
    },
    "LogicIf": {
      "additionalProperties": false,
      "properties": {
        "if": {
          "items": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            }
          ],
          "maxItems": 3,
          "minItems": 3,
          "type": "array"
        }
      },
      "required": ["if"],
      "title": "LogicIf",
      "type": "object"
    },
    "LogicIn": {
      "additionalProperties": false,
      "properties": {
        "in": {
          "items": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "items": {
                "$ref": "#/definitions/LogicExpression"
              },
              "type": "array"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        }
      },
      "required": ["in"],
      "title": "LogicIn",
      "type": "object"
    },
    "LogicLess": {
      "additionalProperties": false,
      "properties": {
        "<": {
          "items": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        }
      },
      "required": ["<"],
      "title": "LogicLess",
      "type": "object"
    },
    "LogicLessEqual": {
      "additionalProperties": false,
      "properties": {
        "<=": {
          "items": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        }
      },
      "required": ["<="],
      "title": "LogicLessEqual",
      "type": "object"
    },
    "LogicMinus": {
      "additionalProperties": false,
      "properties": {
        "-": {
          "items": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        }
      },
      "required": ["-"],
      "title": "LogicMinus",
      "type": "object"
    },
    "LogicNot": {
      "additionalProperties": false,
      "properties": {
        "!": {
          "anyOf": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "items": {
                "$ref": "#/definitions/LogicExpression"
              },
              "type": "array"
            }
          ]
        }
      },
      "required": ["!"],
      "title": "LogicNot",
      "type": "object"
    },
    "LogicOperator": {
      "anyOf": [
        {
          "$ref": "#/definitions/LogicIf",
          "title": "LogicIf"
        },
        {
          "$ref": "#/definitions/LogicReduce",
          "title": "LogicReduce"
        },
        {
          "$ref": "#/definitions/LogicSome",
          "title": "LogicSome"
        },
        {
          "$ref": "#/definitions/LogicEquals",
          "title": "LogicEquals"
        },
        {
          "$ref": "#/definitions/LogicGreaterEqual",
          "title": "LogicGreaterEqual"
        },
        {
          "$ref": "#/definitions/LogicNot",
          "title": "LogicNot"
        },
        {
          "$ref": "#/definitions/LogicLessEqual",
          "title": "LogicLessEqual"
        },
        {
          "$ref": "#/definitions/LogicPlus",
          "title": "LogicPlus"
        },
        {
          "$ref": "#/definitions/LogicMinus",
          "title": "LogicMinus"
        },
        {
          "$ref": "#/definitions/LogicAnd",
          "title": "LogicAnd"
        },
        {
          "$ref": "#/definitions/LogicOr",
          "title": "LogicOr"
        },
        {
          "$ref": "#/definitions/LogicIn",
          "title": "LogicIn"
        },
        {
          "$ref": "#/definitions/LogicGreater",
          "title": "LogicGreater"
        },
        {
          "$ref": "#/definitions/LogicLess",
          "title": "LogicLess"
        }
      ]
    },
    "LogicOr": {
      "additionalProperties": false,
      "properties": {
        "or": {
          "items": {
            "$ref": "#/definitions/LogicExpression"
          },
          "type": "array"
        }
      },
      "required": ["or"],
      "title": "LogicOr",
      "type": "object"
    },
    "LogicPlus": {
      "additionalProperties": false,
      "properties": {
        "+": {
          "items": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        }
      },
      "required": ["+"],
      "title": "LogicPlus",
      "type": "object"
    },
    "LogicReduce": {
      "additionalProperties": false,
      "properties": {
        "reduce": {
          "items": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            }
          ],
          "maxItems": 3,
          "minItems": 3,
          "type": "array"
        }
      },
      "required": ["reduce"],
      "title": "LogicReduce",
      "type": "object"
    },
    "LogicSome": {
      "additionalProperties": false,
      "properties": {
        "some": {
          "items": [
            {
              "$ref": "#/definitions/LogicExpression"
            },
            {
              "$ref": "#/definitions/LogicExpression"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        }
      },
      "required": ["some"],
      "title": "LogicSome",
      "type": "object"
    },
    "LogicVariable": {
      "additionalProperties": false,
      "properties": {
        "var": {
          "type": "string"
        }
      },
      "required": ["var"],
      "type": "object"
    }
  }
}
