{
  "$ref": "#/definitions/Question",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "NumericOption": {
      "additionalProperties": false,
      "description": "Option for numeric questions.",
      "properties": {
        "defaultValue": {
          "description": "Default value",
          "type": "number"
        },
        "max": {
          "description": "maximal value",
          "type": "number"
        },
        "min": {
          "description": "Minimal value",
          "type": "number"
        },
        "step": {
          "description": "Step size",
          "type": "number"
        }
      },
      "type": "object"
    },
    "NumericQuestion": {
      "additionalProperties": false,
      "description": "Represents a question with numeric answer.",
      "properties": {
        "details": {
          "description": "Optional human-readable details or clarifiation about this question.",
          "type": "string"
        },
        "enableWhen": {
          "description": "Logic expression to decide whether the question should be displayed or not.\nDefaults to true.",
          "type": "string"
        },
        "id": {
          "description": "Unique id for referring this question in logic expressions.",
          "type": "string"
        },
        "numericOptions": {
          "$ref": "#/definitions/NumericOption",
          "description": "Answer options for Select/Multiselect questions."
        },
        "optional": {
          "description": "Boolean indicating whether the question is optional or not.",
          "type": "boolean"
        },
        "text": {
          "description": "Human-readable question text, can be localized.",
          "type": "string"
        },
        "type": {
          "description": "Type of the question.",
          "enum": ["number"],
          "type": "string"
        }
      },
      "required": ["id", "text", "type"],
      "title": "Numeric question",
      "type": "object"
    },
    "Option": {
      "additionalProperties": false,
      "description": "Option for multi-select questions.",
      "properties": {
        "asQuestion": {
          "description": "Human-Readable formulation of this option as yes/no question.\nThis is for use-cases where multi-selects are not possible in the UI,\nfor example telephone hotlines.",
          "type": "string"
        },
        "text": {
          "description": "Human-Readable answer, can be localized.",
          "type": "string"
        },
        "value": {
          "description": "Value used for evaluating logic expressions.",
          "type": "string"
        }
      },
      "required": ["text", "value"],
      "type": "object"
    },
    "Question": {
      "anyOf": [
        {
          "$ref": "#/definitions/QuestionWithoutOptions",
          "title": "Yes/No, Text or Date question"
        },
        {
          "$ref": "#/definitions/QuestionWithOptions",
          "title": "Question with options"
        },
        {
          "$ref": "#/definitions/NumericQuestion",
          "title": "Numeric question"
        }
      ],
      "description": "Represents a single question of the questionnaire."
    },
    "QuestionWithOptions": {
      "additionalProperties": false,
      "description": "Represents a question with predefined answers to select.",
      "properties": {
        "details": {
          "description": "Optional human-readable details or clarifiation about this question.",
          "type": "string"
        },
        "enableWhen": {
          "description": "Logic expression to decide whether the question should be displayed or not.\nDefaults to true.",
          "type": "string"
        },
        "id": {
          "description": "Unique id for referring this question in logic expressions.",
          "type": "string"
        },
        "optional": {
          "description": "Boolean indicating whether the question is optional or not.",
          "type": "boolean"
        },
        "options": {
          "description": "Answer options for Select/Multiselect questions.",
          "items": {
            "$ref": "#/definitions/Option"
          },
          "type": "array"
        },
        "text": {
          "description": "Human-readable question text, can be localized.",
          "type": "string"
        },
        "type": {
          "anyOf": [
            {
              "enum": ["select"],
              "type": "string"
            },
            {
              "enum": ["multiselect"],
              "type": "string"
            }
          ],
          "description": "Type of the question."
        }
      },
      "required": ["id", "text", "type"],
      "title": "Question with options",
      "type": "object"
    },
    "QuestionWithoutOptions": {
      "additionalProperties": false,
      "description": "Represents a question. The answer is a choice of yes/no, text or date.",
      "properties": {
        "details": {
          "description": "Optional human-readable details or clarifiation about this question.",
          "type": "string"
        },
        "enableWhen": {
          "description": "Logic expression to decide whether the question should be displayed or not.\nDefaults to true.",
          "type": "string"
        },
        "id": {
          "description": "Unique id for referring this question in logic expressions.",
          "type": "string"
        },
        "optional": {
          "description": "Boolean indicating whether the question is optional or not.",
          "type": "boolean"
        },
        "text": {
          "description": "Human-readable question text, can be localized.",
          "type": "string"
        },
        "type": {
          "anyOf": [
            {
              "enum": ["boolean"],
              "type": "string"
            },
            {
              "enum": ["date"],
              "type": "string"
            },
            {
              "enum": ["text"],
              "type": "string"
            }
          ],
          "description": "Type of the question."
        }
      },
      "required": ["id", "text", "type"],
      "title": "Yes/No, Text or Date question",
      "type": "object"
    }
  }
}
